let pokemonTypeList=["water","normal","fire","grass","electric","ice","fighting","poison","ground","flying","psychic","bug","rock","ghost","dragon","dark","steel","fairy",],createDropdownOptions=function(){let e=document.querySelector("#filter-by-type");for(let t=0;t<pokemonTypeList.length;t++){let o=document.createElement("a");o.setAttribute("href","#"),o.setAttribute("onclick","pokemonRepository.filterPokemon('"+pokemonTypeList[t].slice(0,1)+pokemonTypeList[t].slice(1)+"')"),o.classList.add("dropdown-item"),o.innerHTML=pokemonTypeList[t].slice(0,1).toUpperCase()+pokemonTypeList[t].slice(1);let n=document.createElement("li");n.append(o),e.append(n)}}(),modalManager={showModal:function e(t){let o=document.querySelector("#pokemon-details"),n=document.querySelector("#pokemon-name");n.innerHTML="",o.innerHTML="";let a=document.createElement("h1");a.innerHTML=t.name;let i=new Image;i.src=t.imageURL,i.style.width="50%",i.classList.add("modal-img");let s=document.createElement("p");s.innerHTML="type: "+t.types[0].type.name,t.types.length>1&&(s.innerHTML+=" / "+t.types[1].type.name);document.createElement("p").innerHTML="National Pokedex ID: "+t.id,n.append(a),o.append(i),o.append(s)},showLoading:function e(){document.querySelector("#loading-screen").classList.add("is-visible")},hideLoading:function e(){document.querySelector("#loading-screen").classList.remove("is-visible")}},pokemonRepository=function(){let e=[],t=[];function o(){return t}async function n(e){let t=e.detailsURL;try{let o=await fetch(t),n=await o.json();e.imageURL=n.sprites.other["official-artwork"].front_default,e.types=n.types,e.id=n.id}catch(a){console.log("Load Details did not work: "+a)}}async function a(){try{let o=await fetch("https://pokeapi.co/api/v2/pokemon/?limit=1000"),a=await o.json();a.results.forEach(async function(t){var o;o={name:t.name.slice(0,1).toUpperCase()+t.name.slice(1),detailsURL:t.url},"object"==typeof o&&"name"in o&&"detailsURL"in o?e.push(o):console.log("pokemon formatting error: "+o)}),t=e.slice();let i=[];for(let s=0;s<pokemonRepository.getAll().length;s++)i.push(n(pokemonRepository.getAll()[s]));await Promise.all(i)}catch(l){console.log(l)}}return{getAll:o,loadList:a,addListItem:function e(t){let o=document.querySelector(".selectable-pokemon-list"),n=document.createElement("button");n.classList.add("pokemon-button"),n.addEventListener("click",function(){modalManager.showModal(t)}),n.classList.add("btn"),n.setAttribute("data-bs-target","#pokeDetailsModal"),n.setAttribute("data-bs-toggle","modal"),n.ariaLabel=t.name+" button";let a=new Image;a.src=t.imageURL,a.classList.add("pokemon-image"),a.alt="Image of "+t.name;let i=t.types[0].type.name.toLowerCase();a.classList.add(i);let s=document.createElement("p");s.classList="pokemon-label",s.innerHTML=t.name,n.appendChild(a),n.appendChild(s),o.appendChild(n)},filterPokemon:function o(n){if("SEARCH_BY_INPUT"==n&&(n=document.querySelector("#search-input").value),""!=n){if(pokemonTypeList.includes(n)){t=[],e.forEach(function(e){1==e.types.length?e.types[0].type.name.toLowerCase()==n&&t.push(e):(e.types[0].type.name.toLowerCase()==n||e.types[1].type.name.toLowerCase()==n)&&t.push(e)}),createButtons();return}if("none"==n){t=[],t=e.slice(),createButtons();return}else{t=[],e.forEach(function(e){e.name.toLowerCase().includes(n.toLowerCase())&&t.push(e)}),createButtons();return}}}}}(),initializeData=async function(){modalManager.showLoading(),await pokemonRepository.loadList(),modalManager.hideLoading(),createButtons()}();function createButtons(){document.querySelector(".selectable-pokemon-list").innerHTML="",pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}